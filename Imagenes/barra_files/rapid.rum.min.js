/*  Rapid+JS v8.0.0 Released on 2024-01-12T18:40Z | (c) Yottaa, Inc. | https://www.yottaa.com/rapidjs-license */ var $yojscomp=$yojscomp||{};$yojscomp.scope={};$yojscomp.arrayIteratorImpl=function(d){var l=0;return function(){return l<d.length?{done:!1,value:d[l++]}:{done:!0}}};$yojscomp.arrayIterator=function(d){return{next:$yojscomp.arrayIteratorImpl(d)}};$yojscomp.ASSUME_ES5=!1;$yojscomp.ASSUME_NO_NATIVE_MAP=!1;$yojscomp.ASSUME_NO_NATIVE_SET=!1;$yojscomp.SIMPLE_FROUND_POLYFILL=!1; $yojscomp.defineProperty=$yojscomp.ASSUME_ES5||'function'==typeof Object.defineProperties?Object.defineProperty:function(d,l,w){d!=Array.prototype&&d!=Object.prototype&&(d[l]=w.value)};$yojscomp.getGlobal=function(d){return'undefined'!=typeof window&&window===d?d:'undefined'!=typeof global&&null!=global?global:d};$yojscomp.global=$yojscomp.getGlobal(this);$yojscomp.SYMBOL_PREFIX='jscomp_symbol_';$yojscomp.initSymbol=function(){$yojscomp.initSymbol=function(){};$yojscomp.global.Symbol||($yojscomp.global.Symbol=$yojscomp.Symbol)}; $yojscomp.SymbolClass=function(d,l){this.$yojscomp$symbol$id_=d;$yojscomp.defineProperty(this,'description',{configurable:!0,writable:!0,value:l})};$yojscomp.SymbolClass.prototype.toString=function(){return this.$yojscomp$symbol$id_};$yojscomp.Symbol=function(){function d(w){if(this instanceof d)throw new TypeError('Symbol is not a constructor');return new $yojscomp.SymbolClass($yojscomp.SYMBOL_PREFIX+(w||'')+'_'+l++,w)}var l=0;return d}(); $yojscomp.initSymbolIterator=function(){$yojscomp.initSymbol();var d=$yojscomp.global.Symbol.iterator;d||(d=$yojscomp.global.Symbol.iterator=$yojscomp.global.Symbol('Symbol.iterator'));'function'!=typeof Array.prototype[d]&&$yojscomp.defineProperty(Array.prototype,d,{configurable:!0,writable:!0,value:function(){return $yojscomp.iteratorPrototype($yojscomp.arrayIteratorImpl(this))}});$yojscomp.initSymbolIterator=function(){}}; $yojscomp.initSymbolAsyncIterator=function(){$yojscomp.initSymbol();var d=$yojscomp.global.Symbol.asyncIterator;d||(d=$yojscomp.global.Symbol.asyncIterator=$yojscomp.global.Symbol('Symbol.asyncIterator'));$yojscomp.initSymbolAsyncIterator=function(){}};$yojscomp.iteratorPrototype=function(d){$yojscomp.initSymbolIterator();d={next:d};d[$yojscomp.global.Symbol.iterator]=function(){return this};return d}; $yojscomp.iteratorFromArray=function(d,l){$yojscomp.initSymbolIterator();d instanceof String&&(d+='');var w=0,A={next:function(){if(w<d.length){var E=w++;return{value:l(E,d[E]),done:!1}}A.next=function(){return{done:!0,value:void 0}};return A.next()}};A[Symbol.iterator]=function(){return A};return A}; $yojscomp.polyfill=function(d,l,w,A){if(l){w=$yojscomp.global;d=d.split('.');for(A=0;A<d.length-1;A++){var E=d[A];E in w||(w[E]={});w=w[E]}d=d[d.length-1];A=w[d];l=l(A);l!=A&&null!=l&&$yojscomp.defineProperty(w,d,{configurable:!0,writable:!0,value:l})}};$yojscomp.polyfill('Array.prototype.keys',function(d){return d?d:function(){return $yojscomp.iteratorFromArray(this,function(d){return d})}},'es6','es3'); $yojscomp.findInternal=function(d,l,w){d instanceof String&&(d=String(d));for(var A=d.length,E=0;E<A;E++){var F=d[E];if(l.call(w,F,E,d))return{i:E,v:F}}return{i:-1,v:void 0}};$yojscomp.polyfill('Array.prototype.find',function(d){return d?d:function(d,w){return $yojscomp.findInternal(this,d,w).v}},'es6','es3'); $yojscomp.checkStringArgs=function(d,l,w){if(null==d)throw new TypeError("The 'this' value for String.prototype."+w+' must not be null or undefined');if(l instanceof RegExp)throw new TypeError('First argument to String.prototype.'+w+' must not be a regular expression');return d+''}; $yojscomp.polyfill('String.prototype.startsWith',function(d){return d?d:function(d,w){var l=$yojscomp.checkStringArgs(this,d,'startsWith');d+='';var E=l.length,F=d.length;w=Math.max(0,Math.min(w|0,l.length));for(var K=0;K<F&&w<E;)if(l[w++]!=d[K++])return!1;return K>=F}},'es6','es3'); var Yo=function(d,l){return l(d)}('undefined'!==typeof window?window:this,function(d,l){function w(a){return h.rum.key+'-'+a}function A(){for(var a=h.rum.key?h.rum.key:e.getCookie('yo-rum-key'),b=0,c=0,g=0,r=0;r<h.delayed.length;r++){var z=h.delayed[r];'none'!=z.orgDelayType&&(R='active',z.newNode&&z.newNode.nodeName?'img'==z.newNode.nodeName.toLowerCase()?c++:'script'==z.newNode.nodeName.toLowerCase()&&'attributesrc'!=z.type&&b++:z.me&&z.me.nodeName&&'script'==z.me.nodeName.toLowerCase()&&g++)}r= null!=a?a:d.location.hostname;a=Z;z=u.releaseDate;var f=document.location.href,k=navigator.userAgent,p=document.title,m=aa,l=e.hasResourceTiming()&&e.def(d.performance.timing.toJSON),q=e.hasResourceTiming(),t=e.hasResourceTiming(),A=e.metaDataValue('X-Yottaa-Optimizations'),E=(new Date).getTime();if(0==e.hasResourceTiming()||0==e.def(d.performance.getEntriesByType))var v={};else{v=d.performance.getEntriesByType('resource');for(var Fa=v.length,B={},x=0;x<Fa;x++){var y=v[x],F=B[y.initiatorType];F?(F.count++, F.size+=y.decodedBodySize):B[y.initiatorType]={count:1,size:y.decodedBodySize}}v=B}b={siteKey:r,uuid:a,formatVersion:'3',releaseDate:z,requestType:'navigation',fullPageURL:f,pageCategory:'',userAgent:k,pageTitle:p,lastInteraction:m,isNavigationSupported:l,isResourceTimingSupported:q,isPaintTimingSupported:t,yOptimizations:A,eventTimestamp:E,entryMap:v,domElementCount:document.getElementsByTagName('*').length,pagePrefetched:_isPagePrefetched(),maxScrollDepth:u.maxScrollDepth,sequencing:{numScriptsSequenced:b, numImagesSequenced:c,numBlocksSequenced:g,numDelayedObjects:h.delayed.length},commonDimensions:{}};h.rum.pageCategory&&(b.pageCategory=h.rum.pageCategory);u.geo&&(b.geo=u.geo);c=navigator.connection||navigator.mozConnection||navigator.webkitConnection;b.connection={};1==n.def(c)&&(b.connection.effectiveType=c.effectiveType,b.connection.rtt=c.rtt);for(var C in L)b.commonDimensions[C]=L[C];b.commonDimensions.optState||(b.commonDimensions.optState=R);try{if(d.localStorage&&localStorage.getItem){var G= localStorage.getItem(w('rapid-js-visitor-3'));if(null!=G){G=JSON.parse(G);var D=(new Date).getTime()>G.visitorTimestamp+h.sessionTimeout;b.visitor={visitorTimestamp:(new Date).getTime(),numVisitorPageViews:G.numVisitorPageViews+1,numSessionPageViews:D?1:G.numSessionPageViews+1,visitorId:G.visitorId?G.visitorId:e.uuid(),numSessions:D?G.numSessions+1:G.numSessions,sessionId:D?e.uuid():G.sessionId,bandwidth:''}}else b.visitor={visitorTimestamp:(new Date).getTime(),numVisitorPageViews:1,numSessionPageViews:1, numSessions:1,visitorId:e.uuid(),sessionId:e.uuid(),bandwidth:''};localStorage.setItem(w('rapid-js-visitor-3'),JSON.stringify(b.visitor));var H=localStorage.getItem(w('rapid-js-qoe-5'));null!=H&&(b.qoe=JSON.parse(H))}}catch(Ga){e.log('localStorage was not available',Ga)}1==b.isNavigationSupported&&!0!==h.rum.spa&&(b.navigationTiming=d.performance.timing.toJSON(),b.experienceMetrics=N,sa&&(b.webVitalsInfo=J));b.isPaintTimingSupported=!1;b.paintTiming={};b.userTiming={};b.measureTiming={};if(d.performance&& d.performance.getEntriesByType){C=d.performance.getEntriesByType('paint');if(null!=C&&0<C.length)for(b.isPaintTimingSupported=!0,r=0;r<C.length;r++)b.paintTiming[C[r].name]=C[r].startTime;C=d.performance.getEntriesByType('mark');if(null!=C&&0<C.length)for(r=0;r<C.length;r++)b.userTiming[C[r].name]=C[r].startTime;C=d.performance.getEntriesByType('measure');if(null!=C&&0<C.length)for(r=0;r<C.length;r++)b.measureTiming[C[r].name]=C[r].duration}u.rum=b}function E(a){for(var b=0;b<h.delayed.length;b++){var c= h.delayed[b];if(c.src==a||c.srcAttr==a)return c}return null}function F(a,b,c,g){a={lastByteTime:c.duration,implementationType:'dom',type:a,zone:b,resourceName:c.name,resourceSizeBytes:c.decodedBodySize};c=E(c.name);null!=c&&(a.delayedType=c.orgDelayType,a.delayedValue=c.delayValue);n.def(g)&&(a.stack=g);return a}function K(a){if(0!=e.hasResourceTiming()){try{if(!d.localStorage||!d.localStorage.getItem)return}catch(ra){e.log('localStorage was not available');return}var b=u.rum,c=[],g=d.performance.timing, r=0,z=0,f=g.domInteractive-g.navigationStart,k=g.domContentLoadedEventEnd-g.navigationStart,m=g.domComplete-g.navigationStart,l=g.loadEventEnd-g.navigationStart,q=d.performance.getEntries();g=q.length;a:{if(document.querySelector){var t=document.querySelector('img[class*=hero]');if(null!=t){t=t.currentSrc||t.src;break a}}for(var A=document.getElementsByTagName('img'),B=null,x=0,v=document.documentElement.scrollTop||document.body.scrollTop,y=0;y<A.length;y++){t=A[y];var D=t.getBoundingClientRect(); if(D.top-v<d.innerHeight)D.width*D.height>x&&(B=t.currentSrc||t.src,x=D.width*D.height);else break}t=B}for(A=0;A<g;A++)v=q[A],B=v.startTime,y=0,'resource'==v.entryType&&(B<=f?(z+=h.rum.advanced.domInteractiveCoef,y=1):B<=k?(z+=h.rum.advanced.domContentLoadedEventCoef,y=2):B<=m?(z+=h.rum.advanced.domCompleteCoef,y=3):B<=l||a&&A<a?(z+=h.rum.advanced.loadEventCoef,y=4):0<v.duration&&(r+=v.duration),x=ba[v.name],0!=y&&v.duration>h.rum.advanced.blockingTime?H.push(F(4,y,v,x)):0==y&&v.duration>h.rum.advanced.performanceTime&& H.push(F(0,y,v,x)),v.decodedBodySize>h.rum.advanced.violationSize&&H.push(F(1,y,v,x)),1==v.name.toLowerCase().startsWith('https:')&&1==v.name.toLowerCase().startsWith('http:')&&H.push(F(3,y,v,x)),t==v.name&&(p.setExperienceMetric('hero_image_display',v.startTime+v.duration),p.setExperienceMetric('hero_image',t)),v.toJSON&&(v=v.toJSON(),v.implementationType='dom',n.def(x)&&(v.stack=x),x=E(v.name),null!=x&&(v.delayedType=x.orgDelayType,v.delayedValue=x.delayValue),v.onLoadStartTime=B-l,c.push(v))); 1<g&&n._calculateTti(q,g,l);d.performance.getEntriesByName&&!0!==h.rum.spaTransition&&(a=document.getElementsByTagName('script'),ca(a,'src'),a=document.getElementsByTagName('link'),ca(a,'href'),a=document.getElementsByTagName('img'),ca(a,'currentSrc'));a=localStorage.getItem(w('rapid-js-qoe-5'));null==a?a={sessionTimeSaved:r,journeyTime:r}:(a=JSON.parse(a),a={sessionTimeSaved:(new Date).getTime()>a.collectionTimestamp+h.sessionTimeout?r:a.sessionTimeSaved+r,journeyTime:a.journeyTime+r});a.entries= g;a.timeSaved=r;a.score=z;a.pageMeasured=b?b.fullPageURL:d.location.href;a.pageMeasuredCategory=b?b.pageCategory:'';a.violations=H;!0===h.rum.requests&&(a.resourceTiming=c);a.jsErrors=da;a.domElementCount=document.getElementsByTagName('*').length;a.maxScrollDepth=u.maxScrollDepth;a.pageMeasuredPrefetched=b.pagePrefetched;a.pageMeasuredUuid=Z;a.lastInteraction=aa;a.serviceWorkers=u.serviceWorkers;a.collectionTimestamp=(new Date).getTime();a.commonDimensions={};for(var I in L)a.commonDimensions[I]= L[I];a.experienceMetrics=N;sa&&(a.webVitalsInfo=J);a.commonDimensions.optState||(a.commonDimensions.optState=R);try{!0!==h.sendRumOnUnload?localStorage.setItem(w('rapid-js-qoe-5'),JSON.stringify(a)):b.qoe=a}catch(ra){n.log('LocalStorage failed to save',ra)}}}function Ha(a){if(d.performance&&d.performance.getEntriesByType)for(var b=d.performance.getEntriesByType('resource'),c=0;c<b.length;c++)if(b[c].name===a)return c;return-1}function ea(){var a=n.browser();return!!a&&'chrome'===a.name}function ta(a, b,c){O.postMessage({url:b[c],extensionId:a,extensionAssetUrls:b,assetIndex:c})}function fa(a,b){S++;f.setExtensionState(a,b);S===f.supportedExtensions.length&&(f.detectionComplete=!0,k.publish({topic:'hijacking/finished',message:f.extensionList()}))}function Ia(a){var b=new XMLHttpRequest;b.open('GET',a.data.url);b.onreadystatechange=function(){4===this.readyState&&postMessage({assetFound:200===this.status,extId:a.data.extensionId,extAssetUrls:a.data.extensionAssetUrls,assetIdx:a.data.assetIndex})}; b.send(null)}function Ja(){var a=new Blob(['self.onmessage = ',Ia.toString()],{type:'application/javascript'});a=new Worker(URL.createObjectURL(a));a.onerror=function(a){m.utils.log('Journey Hijacking Web Worker Error: '+a.message)};a.onmessage=function(a){var b=a.data.assetFound,g=a.data.extId,d=a.data.extAssetUrls;a=a.data.assetIdx;b?fa(g,f.states.INSTALLED):a===d.length-1?fa(g,b?f.states.INSTALLED:f.states.NOT_INSTALLED):ta(g,d,a+1)};return a}function T(a,b,c,g){B.checkedComponents.push({id:a.id, state:b,extensionId:c.id});f.setExtensionState(c.id,f.states.INSTALLED);k.publish({topic:'hijacking/component-found',message:{element:g,component:a,extension:c}})}function ha(a,b,c){Ka.call(a);T(b,U.BLOCKED,c,a);m.utils.log('Journey Hijacking removed',a,'which matches component',b,'of extension',c);k.publish({topic:'hijacking/blocked',message:{element:a,component:b,extension:c}})}function ua(a,b){ia.push(k.subscribe({topic:'hijacking/found/'+a.id,callback:b}))}function La(a,b,c){c.reportOnly||'active'!== f.optState?b.requireDetection&&f.assetDetection.enabled?ua(c,function(){T(b,U.DETECTED,c,a)}):T(b,U.DETECTED,c,a):!0!==b.requireDetection?ha(a,b,c):B.aggressiveBlocking?ha(a,b,c):f.assetDetection.enabled?ua(c,function(){ha(a,b,c)}):T(b,U.DETECTED,c,a)}function Ma(){var a={childList:!0,subtree:!1};M=new MutationObserver(function(a){for(var b=0;b<a.length;b++)for(var g=0;g<a[b].addedNodes.length;g++)a:for(var d=a[b].addedNodes[g],e=f.supportedExtensions,h=0;h<e.length;h++){var k=e[h];if(k.components)for(var m= 0;m<k.components.length;m++){b:{var p=d,l=k.components[m],n=k;try{if(l.test(p)){La(p,l,n);var q=!0;break b}}catch(Qa){q=!1;break b}q=void 0}if(q)break a}}});M.observe(d.document.documentElement,a);d.document.body?M.observe(d.document.body,a):d.document.addEventListener('DOMContentLoaded',function(){M.observe(d.document.body,a)})}function va(a){var b=m.stats().rum;b={siteKey:b.siteKey,sessionId:b.visitor.sessionId,pageMeasured:b.fullPageURL,pageCategory:b.pageCategory,visitorId:b.visitor.visitorId, requestId:b.uuid,optState:f.optState,extensions:f.extensionList(),components:B.checkedComponents};if(a){a:{a=ja();var c=d.localStorage.getItem(a);if(c){try{var g=JSON.parse(c)}catch(r){d.localStorage.removeItem(a);g=null;break a}d.localStorage.removeItem(a)}else g=null}g&&(b.previousPage=g)}return b}function ka(){m.utils.log('Journey Hijacking will save new components to localstorage');V=k.subscribe({topic:'hijacking/component-found',callback:Na})}function ja(){var a=m.stats().rum;return'hijacking-'+ (a&&a.visitor&&a.visitor.sessionId)}function Na(){var a=va(!1),b=ja(),c=JSON.stringify(a);d.localStorage.setItem(b,c);k.publish({topic:'hijacking/payload-saved',message:{storageKey:b,payload:a}})}function wa(){null!==W&&(k.unsubscribe(W),W=null)}function xa(){wa();var a=va(!0);if(!a.previousPage&&!1===f.hasDetectedExtensions)return m.utils.log('Journey Hijacking beacon cancelled, nothing to send'),ka(),!1;var b=k.publish({topic:'hijacking/beforeSend',async:!1,message:a});if(0<b.length&&!1===b[0])return m.utils.log('Journey Hijacking beacon cancelled in beforeSend'), ka(),!1;k.publish({topic:'hijacking/send',message:a});n.sendData(a,f.config.reportUri);m.utils.log('Journey Hijacking beacon sent');ka();return!0}function ya(){var a=n.browser();return a?'chrome'===a.name?!!(d.chrome&&d.chrome.runtime&&d.chrome.runtime.sendMessage)||!1===n.isAndroid()&&!1===n.isIos():'safari'===a.name?!0:!1:!1}if(d.Yo)return d.Yo;var m={},la=d.setTimeout,q=console.log,D=console.table,h={defaultDelay:5E3,defaultType:'none',log:!1,throttle:20,sequenceXHR:!1,sequenceWrites:!1,sendTimingData:!1, timingDataURL:'',offset:100,scan:['script','img','source','picture'],resources:[],abTesting:[],write:[],intervalID:null,lazyCheckSize:!0,pre:'data-yo-',srcAttrs:['data-yo-src','data-yo-srcset'],afterShockLoaded:!1,optimizeIE:!0,logPrefix:'Yo.utils.log: ',delayed:[],maxMessageSize:2048E3,scriptAttrs:['async','nomodule','defer','crossorigin'],ttiWatcherInterval:3E3,ttiLagTime:2E3,scrapeLevel:'top',sendRumOnUnload:!1,excludeParameters:!1,rumDelay:100,sessionTimeout:18E5,newConfigFetch:!1},e={log:function(){if(h.log&& 1==e.def(q)){var a=Array.prototype.slice.call(arguments);a.unshift(h.logPrefix);q.apply(console,a)}},def:function(a){return'undefined'!=typeof a},undef:function(a){return!e.def(a)},isFunction:function(a){return!!(a&&a.constructor&&a.call&&a.apply)},decodeSafeString:function(a){return decodeURIComponent(a)},getCookie:function(a){for(var b=document.cookie.split(';'),c=0;c<b.length;c++){var g=b[c],d=g.indexOf(a+'=');if(0==d||1==d&&' '==g.charAt(0)){for(;' '==g.charAt(0);)g=g.substring(1,g.length);return g.substring(a.length+ 1,g.length)}}return null},setCookie:function(a,b,c){var g='';c&&(g=new Date,g=new Date(g.getTime()+1E3*c),g='; expires='+g.toGMTString());document.cookie=a+'='+b+g+'; path=/';return!0},addEvent:function(a,b,c){a.attachEvent?a.attachEvent('on'+b,c):a.addEventListener&&a.addEventListener(b,c,!1)},removeEvent:function(a,b,c){a.detachEvent?a.detachEvent('on'+b,c):a.removeEventListener(b,c,!1)},metaDataValue:function(a,b){var c=document.getElementsByName(a);return null!=c&&1==c.length?1==arguments.length? c[0].getAttribute('content'):c[0].setAttribute('content',b):null},matchUrl:function(a,b){if(null==b||null==a||''==a)return!1;e.log('Match Criteria',a,'and resource Url',b);return'string'===typeof a&&-1!=b.indexOf(a)||'object'===typeof a&&null!=b.match(a)},sendData:function(a,b){if(1==e.isIE('8'))return e.log('IE 8 detected we will not send data back for this browser currently.'),!1;var c=JSON.stringify(a);if(navigator.sendBeacon&&c.length<h.maxMessageSize&&3E4>c.length)m.pubsub.publish({topic:'sequence/beforeloading/'+ b,message:a}),navigator.sendBeacon(b,c),m.pubsub.publish({topic:'sequence/afterloaded/'+b,message:a});else if(c.length<h.maxMessageSize)if(1==e.def(d.fetch))fetch(b,{method:'POST',headers:{'Content-Type':'application/json'},body:c}).then(function(a){e.log('Successfully sent beacon data via fetch',a.status)})['catch'](function(a){e.log('Error from sending beacon data via fetch',a)});else a=new XMLHttpRequest,a.onreadystatechange=function(){4==this.readyState&&e.log('Rum data response received',this.status)}, a.open('POST',b,!0),a.setRequestHeader('Content-type','application/json'),a.send(c);else e.log('Message is larger than max message length for qoe calles message size: ',c.length,h.maxMessageSize)},uuid:function(){var a='0123456789abcdef'.split(''),b=[],c=Math.random;b[8]=b[13]=b[18]=b[23]='-';b[14]='4';for(var g=0;36>g;g++)if(!b[g]){var d=0|16*c();b[g]=a[19==g?d&3|8:d&15]}return b.join('')}},k={},I={},za=1,ma={},X=[],Oa=function(a,b){la(function(){a.callback.call(a.context,b.message,b.topic)},0)}; k.reset=function(){I={};za=1;ma={};X=[]};k.subscribe=function(a){a.id=++za;e.undef(a.priority)&&(a.priority=0);e.undef(a.priority)&&(a.priority=0);'string'===typeof a.topic&&-1!=a.topic.indexOf('*')&&(a.topic=new RegExp(a.topic.replace(/\*/g,'.*')));if('string'===typeof a.topic){a.topic=a.topic.toLowerCase();1==e.undef(I[a.topic])&&(I[a.topic]=[]);I[a.topic].push(a);I[a.topic].sort(function(a,b){return b.priority-a.priority});var b=ma[a.topic];e.def(b)&&a.callback.call(b.context,b.message,b.topic)}else X.push(a); e.log('_pubsub.subscribe',a.topic,a.id);return a.id};k.publish=function(a){var b=a.topic;a.topic=a.topic.toLowerCase();for(var c=I[a.topic],g=c=1==e.undef(c)?[]:c.slice(0),d=0;d<X.length;d++){var z=X[d];null!=a.topic.match(z.topic)&&g.push(z)}a.persistent&&(ma[a.topic]=a);if(0<c.length){g=[];for(d=0;d<c.length;d++){z=c[d];var h=!0;1==a.async?Oa(z,a):(h=z.callback.call(z.context,a.message,b),1==e.def(h)&&g.push(h));e.log('_pubsub.publish',z.topic,z.id);if(0==h&&!0===a.cancellable)break}return g}e.log('_pubsub.publish', a.topic,'no callbacks');return 0};k.unsubscribe=function(a){for(var b in I)for(var c=I[b],d=0;d<c.length;d++)if(c[d].id==a)return c.splice(d,1),e.log('_pubsub.unsubscribe','found',a),!0;e.log('_pubsub.unsubscribe','not found');return!1};var u={releaseDate:'v8.0.0-2024-01-12T18:40Z',errors:{has:!1},config:h,maxScrollDepth:0,serviceWorkers:{supported:!1,registrations:[],cacheStats:[]}},P=function(){return u};k.subscribe({topic:'core/configure',callback:function(a){P.config=h}});k.subscribe({topic:'core/start', callback:function(){P.config=h;'serviceWorker'in navigator&&(u.serviceWorkers.supported=!0,navigator.serviceWorker.getRegistrations().then(function(a){for(var b=0;b<a.length;b++){var c=a[b].active;u.serviceWorkers.registrations.push({scope:a[b].scope,scriptURL:1==e.def(c)?c.scriptURL:'',state:1==e.def(c)?c.state:''})}}))}});e.addEvent(d,'scroll',function(){var a=d.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;a>u.maxScrollDepth&&(u.maxScrollDepth=a)});e.addEvent(d, 'error',function(a){var b=a.message,c=a.lineno,d=a.filename;3==arguments.length&&(b=arguments[0],d=arguments[1],c=arguments[2]);e.log('errorCapture',b,c,d);var r='';try{r=a&&a.error&&a.error.stack?a.error.stack:Error().stack}catch(z){}k.publish({topic:'core/js/error',persistent:!0,message:{message:b,implementationType:'dom',resourceName:d,lineNumber:c,stack:r,collectionTimestamp:(new Date).getTime()}});u.errors={has:!0}});var y={man:function(){q('__   __    _   _    \n\\ \\ / /   | | | |            \n \\ V /___ | |_| |_ __ _  __ _  \n  \\ // _ \\| __| __/ _` |/ _` |\n  | | (_) | |_| || (_| | (_| | \n  \\_/\\___/ \\__|\\__\\__,_|\\__,_|'); q('\n\nUse the console to see information about Yottaa running on your application\n');D([{command:'Yo.utils.console.man();',help:'You just ran this command, which displays this help.'},{command:'Yo.utils.console.rum();',help:'See RUM statistics captured by Yottaa for the current web page.'},{command:'Yo.utils.console.resources();',help:'See information about resources that were loaded. Add a URL to see details about that specific URL.'},{command:'Yo.utils.console.coreWebVitals();',help:'See information about Core Web Vitals as they happen on your website.'}, {command:'Yo.utils.console.sequencing();',help:'See the configuration for sequencing and the resources it is applied to.'},{command:'Yo.utils.console.storeLocalConfiguration();',help:'Store your local configuration for easier debugging.'},{command:'Yo.utils.console.updateABTest();',help:'Update an A/B test variation.'}])},coreWebVitals:function(){q('\n\nCore web vital information for your page is detailed below.\n');1==e.def(p.getCoreWebVitalDetails)&&(q('\n\nRaw core web vital information below\n\n'), q(p.getCoreWebVitalDetails()));var a=function(a,c,d){var b=new PerformanceObserver(function(g){q(c);g=g.getEntries();if('event'!=a)D(d(g));else{var r={duration:-1};(g||[]).forEach(function(a){e.def(a.interactionId)&&r.duration<a.duration&&(r=a)});0<=r.duration&&D(d([r]))}b.disconnect()});b.observe({type:a,durationThreshold:16,buffered:!0})};a('layout-shift','\n\nCumlative Layout Shift (CLS).\n',function(a){return a.map(function(a){return{value:a.value,elementsChanged:a.sources.length,firstElement:0< a.sources.length?a.sources[0].node:'No element'}})});a('largest-contentful-paint','\n\nLargest Contentful Paint (LCP).\n',function(a){return a.map(function(a){return{element:a.element,url:a.url,startTime:a.startTime,duration:a.duration}})});a('event','\n\nInteraction to Next Paint (INP)\n',function(a){return a.map(function(a){return{target:a.target,entryType:a.entryType,name:a.name,startTime:a.startTime,duration:a.duration}})})},rum:function(){q('\n\nRum information for your page is detailed below.\n'); var a=Yo.stats().rum;if(a){q();var b=function(a,b){this.prop=a;this.value=b};q('\n\nPAGE LEVEL DATA.\n');D([new b('Site Key',a.siteKey),new b('Optimization State',Yo.rum.get().optState||'None'),new b('Full Url',a.fullPageURL),new b('Category',a.pageCategory),new b('Title',a.pageTitle),new b('User Agent',a.userAgent),new b('Page Prefetched By Service Worker',a.pagePrefetched?'Yes':'No'),new b('Library Release Date',a.releaseDate),new b('Is SPA Site',u.config.rum.spa?'Yes':'No'),new b('Is Edge Page', a.yOptimizations?'Yes':'No'),new b('SPA Trigger',a.spaTrigger?JSON.stringify(a.spaTrigger):'No Info')]);var c=p.get().testVariations;1==e.def(c)?(q('\n\nA/B TESTS.\n'),D(c.map(function(a){return{'Test name':a.testName,'Variation name':a.variationName,Stickiness:a.sticky,Timeout:a.timeout}}))):q('\n\nNO A/B TESTS.\n');q('\n\nVISITOR INFORMATION.\n');c=a.visitor;D([new b('Visitor',c.visitorId),new b('Visitor Sessions',c.numSessions),new b('Visitor Page views',c.numVisitorPageViews),new b('Session', c.sessionId),new b('Session Page views',c.numSessionPageViews)]);q('\n\nNAVIGATION TIMING INFORMATION.\n');c=a.navigationTiming;D([new b('DNS Lookup',c.domainLookupEnd-c.navigationStart),new b('Connection',c.connectEnd-c.navigationStart),new b('First Byte',c.responseStart-c.navigationStart),new b('Last Byte',c.responseEnd-c.navigationStart),new b('domLoading',c.domLoading-c.navigationStart),new b('domInteractive',c.domInteractive-c.navigationStart),new b('DOMContentLoaded',c.domContentLoadedEventEnd- c.navigationStart),new b('domComplete',c.domComplete-c.navigationStart),new b(u.config.rum.spa?'SPA Rendered':'onLoad',c.loadEventEnd-c.navigationStart)]);a=a.experienceMetrics;1==Yo.utils.def(a)&&(q('\n\nCORE WEB VITALS.\n\nFor detailed information of the core web vital information\nUser the Yo.utils.console.coreWebVitals(); function.'),D([new b('CLS',a.cumulative_layout_shift||'No Data'),new b('INP',a.interaction_to_next_paint||'No Data'),new b('LCP',a.largest_contentful_paint||'No Data'),new b('FID', a.first_input_delay||'No Data')]))}else q('NO DATA WAS COLLECTED')},sequencing:function(){q('\n\nSequencing information for your page is detailed below.\n\n');var a=y._rapidInfo();y._rapidOutput(a);q('document.head sequenced - ',1==e.def(document.head.yo_ac),'\n\ndocument.body sequenced - ',1==e.def(document.body.yo_ac),'\n\nThe table below shows all the rules that have been scheduled for sequencing.\n');D(Yo.stats().config.resources.map(function(a){return{'Applies To':a.url,'Delay Type':a.delayType, 'Delay Value':a.delayValue||'','# of Resources Caught':y._resourceAppliedTo(a.url)}}))},resources:function(a){var b=u.rum,c=b.navigationTiming,g=Math.round(100*(c.responseEnd-c.navigationStart)/(c.loadEventEnd-c.navigationStart)).toFixed(2);q('\n\nResources loaded by the website are detailed below.\n');q('\n\n%c It took %sms to load the html %s% of the onload\n','background: #222; color: #bada55',Math.floor(c.responseEnd-c.navigationStart),g);var r=y._rapidInfo();y._rapidOutput(r);g=u.rum.experienceMetrics; var e={DOMInteractive:Math.floor(c.domInteractive-c.navigationStart),LCP:Math.floor(g?g.largest_contentful_paint:0)};!0===u.config.rum.spa?(0==y._isSpaTransition()?q('\n\nThis is a SPA clean page %s.\n',b.pageCategory):q('\n\nThis is a SPA transition %s.\n',b.pageCategory),e['SPA Rendered']=Math.floor(c.loadEventEnd-c.navigationStart)):e.OnLoad=Math.floor(c.loadEventEnd-c.navigationStart);D(d.performance.getEntriesByType('resource').filter(function(b){return!a||0<=b.name.indexOf(a)}).map(function(a, b){return{'Resource Name':a.name,'Resource Type':y._initiatorType(a),'Load Time':Math.floor(a.duration),'Started Loading':y._isSpaTransition()?Math.floor(a.responseEnd-a.duration-c.navigationStart):Math.floor(a.responseEnd),'Yottaa Sequencing Type':y._sequencingType(a.name,b,r)}}).reduce(function(a,b){Object.keys(e).sort(function(a,b){return e[a]>e[b]}).forEach(function(c){0<e[c]&&b['Started Loading']>e[c]&&(a.push({'Resource Name':c,'Resource Type':'EVENT','Load Time':'---','Started Loading':e[c], 'Yottaa Sequencing Type':'---'}),e[c]=Number.MAX_VALUE)});a.push(b);return a},[]))},storeLocalConfiguration:function(a){e.setCookie('yo-aftershock-config',JSON.stringify(a||{}))},updateABTest:function(a,b){var c=p.get().testVariations;a=a||'A/B Testing';if(1==e.def(c)){var d=c.find(function(b){return b.testName==a});null==d?q('No test with the name of',a,'was found'):(1==e.def(b)?d.variationName=b:d.variationName='Optimized'==d.variationName?'Unoptimized':'Optimized',localStorage.setItem('rapid.testVariations', JSON.stringify(c)),q(a,'test variation name was set to',d.variationName,'Please refresh.'))}else q('No A/B Tests were enabled')},_sequencingType:function(a,b,c){b+=1;var d=P.config.delayed.filter(function(b){return b.src&&0<b.src.length?b.src==a:b.url==a});return 0==d.length||b<c.configResource?1==c.sa?'No Rule Applied':b<c.libraryResource?'No Library':b==c.libraryResource?'THE LIBRARY':b<c.configResource?'No Configuration':b==c.configResource?'THE CONFIGURATION':'No Rule Applied':1==d.length?d[0].orgDelayType: d.map(function(a){return a.orgDelayType}).join(',')},_resourceAppliedTo:function(a){var b=P.config.delayed.filter(function(b){return e.matchUrl(a,b.src)});return b?b.length:0},_initiatorType:function(a){if(0<=a.name.indexOf('/rapid/lib/'))return'RAPID LIBRARY';if(0<=a.name.indexOf('qoe-1.yottaa.net/log-nt/event'))return'RAPID RUM';if(0<=a.name.indexOf('/api/v1/configure.rapid.js'))return'RAPID CONFIG';var b=u.rum.webVitalsInfo;return b&&b.lcp&&null!=b.lcp.find(function(b){return a.name==b.url})?'LCP Trigger': a.initiatorType},_rapidInfo:function(){var a=u.rum;a={sa:e.def(a.yOptimizations)&&null!=a.yOptimizations,libraryResource:0,configResource:0};for(var b=d.performance.getEntriesByType('resource'),c=0;c<b.length;c++){var g=b[c];0<=g.name.indexOf('/rapid/lib/')&&(a.libraryResource=c+1);0<=g.name.indexOf('/api/v1/configure.rapid.js')&&(a.configResource=c+1)}1==y._isSpaTransition()&&(a.libraryResource=1,a.configResource=1);return a},_rapidOutput:function(a){1==a.sa?q('Rapid was loaded via HTML using Edge'): 1==y._isSpaTransition()?q('This is a SPA Transition page its assumed rapid was already running.'):(0==a.libraryResource?q('Rapid was NOT loaded via an external resource, assumed to be loaded via another resource'):q('Rapid was was %s resource to load',a.libraryResource),0==a.configResource?q('Rapid Configuration was NOT loaded via an external resource, assumed to be delivere through config caching'):q('Rapid Configuration %s resource to load',a.configResource))},_isSpaTransition:function(){var a= u.rum;return u.config.rum.spa&&a.pageCategory&&-1==a.pageCategory.toLowerCase().indexOf('clean')}};e.console=y;e.webWorker={initialize:function(a,b,c){if(!0===e.undef(d.Worker))return null;a=new Blob(['self.onmessage = ',a.toString()],{type:'application/javascript'});c=new Worker(URL.createObjectURL(a),c);c.onerror=function(a){m.utils.log('Web Worker Error: '+a.message)};c.onmessage=function(a){b(a)};return c}};var n=e;String.prototype.startsWith||(String.prototype.startsWith=function(a,b){return this.substr(b|| 0,a.length)===a});String.prototype.endsWith||(String.prototype.endsWith=function(a){return-1!==this.indexOf(a,this.length-a.length)});n.rewrite=function(a){var b=n.metaDataValue('resource.version'),c=n.metaDataValue('cdn.hostname'),d=n.metaDataValue('profile.id');return location.protocol+c+'/'+d+'/'+location.hostname+'/'+b+(0!=a.indexOf('/')?'/':'')+a};n.rewriteImageAPI=function(a){var b=n.metaDataValue('resource.version'),c=n.metaDataValue('cdn.hostname'),g=n.metaDataValue('profile.id'),e='o~',h= n.browser();h&&'chrome'===h.name?e+='f_webp':h&&'safari'===h.name&&13<=h.version&&(e+='f_jp2');1==a.startsWith('/')&&0==a.startsWith('//')&&(a=d.location.protocol+'//'+d.location.hostname+a);return location.protocol+c+'/'+g+'/'+e+'/'+b+'/'+a};n.rewriteSrcSet=function(a,b){a=a.split(',');for(var c='',d=0;d<a.length;d++){var e=a[d].trim(),h=e.lastIndexOf(' '),f='';-1!=h&&(f=' '+e.substring(h).trim(),e=e.substring(0,h).trim());e=b(e,f);c+=e+f;d<a.length-1&&(c+=', ')}return c};n.select=function(a){var b; if(null==a||1==a.length)return null;if('document'==a)return document;if('window'==a)return d;if(n.def(a.nodeName))return a;if('.'==a[0])return a=document.getElementsByClassName(a.substring(1)),0<a.length?a[0]:null;if(-1!=(b=a.indexOf('['))){var c=a.substring(0,b),g=a.substring(b+1),e=g.indexOf(']'),h=g.indexOf('[');g=g.substring(0,e);var f,k=[],m=null;if(-1!=(f=g.indexOf('~')))e=2;else if(-1!=(f=g.indexOf('*')))e=1;else if(-1!=(f=g.indexOf('=')))e=0;else return null;if(-1!=h){h=a.substring(b+1+h+ 1);b=h.indexOf(']');try{h=parseInt(h.substring(0,b))}catch(Pa){}}var p=g.substring(0,f);f=g.substring(f+1);2==e&&(m=new RegExp(f));c=document.getElementsByTagName(c);for(b=0;b<c.length;b++){var l=0<p.length?c[b].getAttribute(p):c[b].innerHTML;0==e&&l==f?k.push(c[b]):1==e&&null!=l&&-1!=l.indexOf(f)?k.push(c[b]):2==e&&null!=l&&-1!=l.search(m)&&k.push(c[b])}n.log(a,g,p,f,0==k.length?k.length:k[0]);return-1!=h?h<k.length?k[h]:null:k[0]}'#'==a[0]&&(a=a.substring(1));return document.getElementById(a)}; n.writeHTML=function(a,b,c){var d=document.createElement('div');d.innerHTML='string'===typeof b?b:b.innerHTML;for(b=d.childNodes;0<b.length;)if('script'==b[0].nodeName.toLowerCase())if(b[0].src)m.sequence.script(d.removeChild(b[0]).src).load();else try{eval(d.removeChild(b[0]).innerHTML)}catch(r){n.log(r)}else'insert'==c?a.parentNode.insertBefore(d.removeChild(b[0]),a):a.appendChild(d.removeChild(b[0]))};n.contains=document.documentElement.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)& 16)}:document.documentElement.contains?function(a,b){return a!==b&&(a.contains?a.contains(b):!1)}:function(a,b){for(;b=b.parentNode;)if(b===a)return!0;return!1};n.updateHeadItemAttributes=function(a,b,c){0>a&&(document.cookie='yo-disable-instanton=true;Max-Age=2',d.location.reload(!0));a=document.documentElement.getElementsByTagName('head')[0].children[a];for(var g=0;g<b.length;g++)a.removeAttribute(b[g]);for(var e in c)a.setAttribute(e,c[e])};n.replaceHeadItemContent=function(a,b){0>a&&(document.cookie= 'yo-disable-instanton=true;Max-Age=2',d.location.reload(!0));document.documentElement.getElementsByTagName('head')[0].children[a].textContent=b};n.isIE=function(a){var b=navigator.userAgent;return b&&a&&11==parseInt(a)&&-1!=b.indexOf('rv:11')?!0:b&&a&&-1!=b.indexOf('MSIE '+a)?!0:b&&(-1!=b.indexOf('MSIE')||-1!=b.indexOf('rv:11'))};n.isIos=function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!d.MSStream};n.isAndroid=function(){return/Android/.test(navigator.userAgent)&&!d.MSStream};n.browser= function(){var a=navigator.userAgent,b=a.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(b[1])){var c=/\brv[ :]+(\d+)/g.exec(a)||[];return{name:'IE',version:c[1]||''}}if('Chrome'===b[1]&&(c=a.match(/\bOPR|Edge\/(\d+)/),null!=c))return{name:'Opera',version:c[1]};b=b[2]?[b[1],b[2]]:[navigator.appName,navigator.appVersion,'-?'];null!=(c=a.match(/version\/(\d+)/i))&&b.splice(1,1,c[1]);return{name:b[0].toLowerCase(),version:parseInt(b[1])}};n.inArray=function(a, b,c){if(b){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(b,a,c);var d=b.length;for(c=c?0>c?Math.max(0,d+c):c:0;c<d;c++)if(c in b&&b[c]===a)return c}return-1};n.elementToString=function(a){try{if(a instanceof HTMLElement){var b='<'+a.nodeName.toLowerCase();if(a.getAttribute){var c=a.getAttribute('name'),d=a.getAttribute('id'),e=a.getAttribute('class');null!=c&&0<c.length&&(b+=' name="'+c+'"');null!=d&&0<d.length&&(b+=' id="'+d+'"');null!=e&&0<e.length&&(b+=' class="'+e+'"')}return b+ ' />'}return a.toString?a.toString():'[Object]'}catch(z){}};var Aa=0,Ba=!1;e.hasWebVitals=function(){return'undefined'!==typeof d.LayoutShift};l=function(){(new PerformanceObserver(function(a){a=a.getEntries();for(var b=0;b<a.length;b++){var c=a[b];k.publish({topic:'web-vitals/cumulative-layout-shift',persistent:!0,message:{score:c.value,entry:c}})}})).observe({type:'layout-shift',buffered:!0});(new PerformanceObserver(function(a){a=a.getEntries();for(var b=0;b<a.length;b++){var c=a[b];k.publish({topic:'web-vitals/first-input', persistent:!0,message:{delay:c.processingEnd-c.startTime,name:c.name,startTime:c.startTime,entry:c}})}})).observe({type:'first-input'});(new PerformanceObserver(function(a){if(1!=Ba){a=a.getEntries();for(var b=0;b<a.length;b++){var c=a[b];k.publish({topic:'web-vitals/largest-contentful-paint',persistent:!0,message:{time:c.startTime,entry:c}})}}})).observe({type:'largest-contentful-paint',buffered:!0});(new PerformanceObserver(function(a){a=a.getEntries();for(var b=0;b<a.length;b++){var c=a[b];n.def(c.interactionId)&& Aa<c.duration&&(Aa=c.duration,k.publish({topic:'web-vitals/interaction-to-next-paint',persistent:!0,message:{time:c.duration,entry:c}}))}})).observe({type:'event',durationThreshold:16,buffered:!0})};try{1==e.hasWebVitals()&&l()}catch(a){e.log('WebVital initialize error',a.message)}e.hasResourceTiming=function(){return e.def(d.performance)&&e.def(d.performance.getEntries)};e.calculateTti=function(){var a=d.performance.timing;if(0==e.hasResourceTiming()||e.undef(a.loadEventEnd))return-1;var b=d.performance.getEntries(); return e._calculateTti(b,b.length,a.loadEventEnd-a.navigationStart)};e._calculateTti=function(a,b,c){for(var d=[],e=h.ttiLagTime,f=-1,k=a[0],l=k.startTime,m=l+k.duration,n=[l,m+e],q=0;q<b;q++)if(k=a[q],l=k.startTime,m=l+k.duration,'resource'==k.entryType)if(1==(l+m>=n[0]&&l<=n[1])){if(d.push(k),2<d.length)if(n=[l,m+e],Ca(d,n),3<=d.length)f=n[1]-e;else break}else if(l>n[1]-e){if(m>c)break;n=[l,m+e];Ca(d,n)}if(f<c){if(0==h.afterShockLoaded)return-1;f=c}p.setExperienceMetric('time_to_interactive',f); return f};var Ca=function(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=d.startTime;0==(e+(e+d.duration)>=b[0]&&e<=b[1])&&(a.splice(c,1),c--)}};k.publish({topic:'sequencing/user/first',callback:function(){Ba=!0}});var t={defaultCurrency:'USD',purchaseMapFunctions:[],trackBusinessValue:function(a,b){1==e.def(b)&&(t.defaultCurrency=b);1==e.def(a)&&(t.purchaseMapFunctions=a.concat(t.purchaseMapFunctions));t._analyzePage()},_shopify:function(){if(Shopify&&Shopify.Checkout)return{currencyType:Shopify.Checkout.currency, purchaseAmount:Shopify.Checkout.totalPrice,purchaseType:'Standard',orderId:Shopify.Checkout.token,source:'shopify'}},_gtm:function(){if(d.dataLayer)for(var a=0;a<d.dataLayer.length;a++){var b=d.dataLayer[a];if('eec.purchase'==b.event&&b.ecommerce)return a=b.ecommerce,1==e.undef(a.id)&&(a=b.ecommerce.purchase.actionField),{currencyType:a.currency,purchaseAmount:a.total||(parseFloat(a.revenue)+parseFloat(a.tax)+parseFloat(a.shipping)).toFixed(2),purchaseType:'Standard',orderId:a.id,source:'gtm'}}}, _gtm2:function(){if(d.dataLayer)for(var a=0;a<d.dataLayer.length;a++){var b=d.dataLayer[a];if('purchase'==b.event&&b.ecommerce)return a=b.ecommerce,1==e.undef(a.transaction_id)&&(a=b.ecommerce.purchase.actionField),{currencyType:a.currency,purchaseAmount:a.total||(parseFloat(a.revenue)+parseFloat(a.tax)+parseFloat(a.shipping)).toFixed(2),purchaseType:'Standard',orderId:a.transaction_id,source:'gtm'}}},_omniture:function(){if(d.omnitureActivity&&d.omnitureActivity&&-1!=d.omnitureActivity.events.indexOf('purchase')){var a= d.omnitureActivity;return{purchaseAmount:a.products.split(';').pop(),purchaseType:'Standard',orderId:a.purchaseID,source:'omniture'}}},_uniVariable:function(){if(d.universal_variable&&d.universal_variable.transaction){var a=d.universal_variable.transaction;return{currencyType:a.currency,purchaseAmount:a.total,purchaseType:'Standard',orderId:a.order_id,source:'universalvariable'}}}};t.purchaseMapFunctions.push(t._shopify);t.purchaseMapFunctions.push(t._gtm);t.purchaseMapFunctions.push(t._gtm2);t.purchaseMapFunctions.push(t._omniture); t.purchaseMapFunctions.push(t._uniVariable);t._wasPurchaseAlreadyReported=function(a){try{if(localStorage){var b=localStorage.getItem('yottaa-ci');if(null==b)b={history:[a]};else if(b=JSON.parse(b),1==e.undef(b.history))b={history:[a]};else{if(-1<b.history.indexOf(a))return!1;b.history.push(a)}localStorage.setItem('yottaa-ci',JSON.stringify(b))}}catch(c){e.log('Error handling localStorage of purchase')}};t._fixPurchaseAmount=function(a){a&&'string'===typeof a&&(a=a.replace(/[^0-9.-]+/g,''));return a}; t._analyzePage=function(){k.subscribe({topic:'rum/beforeSend',callback:function(a,b){for(b=0;b<t.purchaseMapFunctions.length;b++)try{var c=t.purchaseMapFunctions[b].call();if(c&&c.purchaseAmount)return a.purchase=c,a.purchase.purchaseAmount=t._fixPurchaseAmount(c.purchaseAmount),a.purchase.currency=a.purchase.currency||t.defaultCurrency,a.pageCategory='order-confirmation',t._wasPurchaseAlreadyReported(a.purchase.orderId)}catch(g){e.log('Purchase mapping error',g,'we will keep going.')}return!0}})}; var p={trackBusinessValue:t.trackBusinessValue},Da=!1,da=[],H=[],R='unknown',L={optState:R},Z=e.uuid(),ba={},na=0,Ea=0,aa={},N={},sa=e.hasWebVitals(),J={lcp:[],cls:[],fid:[],inp:[]};_isPagePrefetched=function(){var a=u;if(a.serviceWorkers&&a.serviceWorkers.cacheStats){a=a.serviceWorkers.cacheStats.hits||[];for(var b=0;b<a.length;b++)if(0==a[b].indexOf(d.location.toString()))return!0}return!1};p.captureRum=function(){e.def(h.rum)&&e.def(h.rum.beaconUrl)&&0==Da&&(Da=!0,!0!==h.rum.spa&&la(function(){e.log('onload window event triggered'); !0===h.sendRumOnUnload?A():k.publish({topic:'rum/send',message:u.rum})},h.rumDelay),e.addEvent(d,'beforeunload',function(){e.log('beforeunload window event triggered');!0===h.sendRumOnUnload?k.publish({topic:'rum/send',message:u.rum}):K()}))};p.initialize=function(a,b,c,g,f){h.rum={beaconUrl:a,requests:b,key:c,post:!0,advanced:{performanceTime:1500,blockingTime:750,violationSize:1024E3,domInteractiveCoef:200,domContentLoadedEventCoef:150,domCompleteCoef:100,loadEventCoef:50}};e.def(f)&&(f.performanceTime&& (h.rum.advanced.performanceTime=f.performanceTime),f.blockingTime&&(h.rum.advanced.blockingTime=f.blockingTime),f.violationSize&&(h.rum.advanced.violationSize=f.violationSize),f.maxMessageSize&&(h.maxMessageSize=f.maxMessageSize));d.performance&&d.performance.setResourceTimingBufferSize&&d.performance.setResourceTimingBufferSize(500)};p.addViolation=function(a,b){H.push({lastByteTime:0,implementationType:'dom',type:a,zone:0,duration:0,startTime:-1,resourceName:b,resourceSizeBytes:0})};var ca=function(a, b){for(var c=0;c<a.length;c++)if('href'!=b||'stylesheet'==a[c].rel){var e=a[c][b];if(null!=e&&''!=e&&(0==e.indexOf('//')&&(e=d.location.protocol+e),1==e.startsWith('http'))){var f=d.performance.getEntriesByName(e);null!=f&&0!=f.length||H.push(F(2,0,{name:e,duration:0,decodedBodySize:0},ba[e]))}}};l=function(){p.setExperienceMetric('cumulative_layout_shift',0);k.subscribe({topic:'web-vitals/cumulative-layout-shift',callback:function(a){var b=a.entry,c=[];if(!b.hadRecentInput){var d=p.getExperienceMetric('cumulative_layout_shift'); p.setExperienceMetric('cumulative_layout_shift',d+a.score)}for(a=0;a<b.sources.length;a++)d=b.sources[a],c.push({node:e.elementToString(d.node),currentRect:d.currentRect,previousRect:d.previousRect});J.cls.push({duration:b.duration,entryType:b.entryType,hadRecentInput:b.hadRecentInput,lastInputTime:b.lastInputTime,name:b.name,sources:c,startTime:b.startTime,value:b.value})}});k.subscribe({topic:'web-vitals/first-input',callback:function(a){var b=a.entry;p.setExperienceMetric('first_input_delay',a.delay); p.setExperienceMetric('first_input_name',a.name);p.setExperienceMetric('first_input_start_time',a.startTime);J.fid.push({cancelable:b.cancelable,duration:b.duration,entryType:b.entryType,name:b.name,processingEnd:b.processingEnd,processingStart:b.processingStart,startTime:b.startTime,target:e.elementToString(b.target)})}});k.subscribe({topic:'web-vitals/largest-contentful-paint',callback:function(a){var b=a.entry;p.setExperienceMetric('largest_contentful_paint',a.time);J.lcp.push({entryType:b.entryType, duration:b.duration,id:b.id,name:b.name,renderTime:b.renderTime,startTime:b.startTime,size:b.size,loadTime:b.loadTime,url:b.url,resourceIndex:Ha(b.url),element:e.elementToString(b.element)})}});k.subscribe({topic:'web-vitals/interaction-to-next-paint',callback:function(a){var b=a.entry;p.setExperienceMetric('interaction_to_next_paint',a.time);J.inp.push({duration:b.duration,entryType:b.entryType,interactionId:b.interactionId,name:b.name,processingEnd:b.processingEnd,processingStart:b.processingStart, startTime:b.startTime,target:e.elementToString(b.target)})}})};p.captureStack=function(){try{return Error().stack}catch(a){return''}};p.set=function(a,b){L[a]=b};p.spa=function(){h.rum&&(h.rum.spa=!0)};p.get=function(){return L};p.now=function(){return d.performance&&d.performance.now?Math.floor(d.performance.now()):Math.floor((new Date).getTime())};p.setExperienceMetric=function(a,b){b>N[a]&&(N[a]=b)};p.getExperienceMetric=function(a){return N[a]};p.getCoreWebVitalDetails=function(){return J};k.subscribe({topic:'core/load', callback:function(){1==n.def(h.rum)&&(h.rum.onLoadTime=p.now());p.captureRum()}});k.subscribe({topic:'sequence/captured',callback:function(a,b){b='';a.open_args?b=a.open_args[1]:a.newNode&&a.newNode.src?b=a.newNode.src:a.delayed&&a.delayed.newNode&&a.delayed.newNode.src?b=a.delayed.newNode.src:a.src&&(b=a.src);ba[b]=p.captureStack()}});k.subscribe({topic:'core/js/error',callback:function(a,b){da.push(a)}});k.subscribe({topic:'rum/spa/transition/start',callback:function(a,b){if(0!=na){a=p.now();b= u.rum;h.rum.spa=h.rum.spaTransition=!0;h.delayed=[];if(e.undef(b)||e.undef(b.navigationTiming))e.undef(b)&&(b={}),d.performance&&d.performance.timing&&(b.navigationTiming=d.performance.timing.toJSON());for(var c in b.navigationTiming)b.navigationTiming[c]=a;Z=e.uuid();H=[];da=[];K(Ea);d.performance&&(p.clearResourceTimings.call(d.performance),d.performance.clearMarks&&d.performance.clearMarks(),d.performance.clearMeasures&&d.performance.clearMeasures())}}});k.subscribe({topic:'rum/spa/rendered',callback:function(a, b){b=u.rum;var c=p.now(),g=b?b.navigationTiming:null;A();b=u.rum;1==n.undef(b.navigationTiming)&&(b.navigationTiming=g?g:d.performance&&d.performance.timing?d.performance.timing.toJSON():{});a.pageType&&a.viewType&&(b.pageCategory=a.pageType+'-'+a.viewType);1==Yo.utils.def(a.trigger)&&(b.spaTrigger=a.trigger);if(!0===h.rum.spaTransition)b.navigationTiming.loadEventEnd=c;else if(h.rum.onLoadTime)b.navigationTiming.loadEventEnd=b.navigationTiming.navigationStart+(b.navigationTiming.loadEventEnd-b.navigationTiming.navigationStart)+ (c-h.rum.onLoadTime);else return h.rum.spa=!1,na++,!1;h.rum.spaTransition=!1;1==e.hasResourceTiming()&&(Ea=d.performance.getEntries().length);na++;a=k.publish({topic:'rum/beforeSend',async:!1,message:u.rum});if(0==a.length||!1!==a[0])e.sendData(u.rum,h.rum.beaconUrl),k.publish({topic:'rum/sendBeacon',message:u.rum});p.setExperienceMetric('cumulative_layout_shift',0);J={lcp:[],cls:[],fid:[],inp:[]};1==n.def(m.sequence)&&(m.configure({scan:['img','source','script']}),m.sequence.displayNow())}});k.subscribe({topic:'rum/send', callback:function(a,b){A();!0===h.sendRumOnUnload&&K();a=k.publish({topic:'rum/beforeSend',async:!1,message:u.rum});if(0==a.length||!1!==a[0])e.sendData(u.rum,h.rum.beaconUrl),k.publish({topic:'rum/sendBeacon',message:u.rum})}});d.performance&&d.performance.clearResourceTimings&&(p.clearResourceTimings=d.performance.clearResourceTimings,d.performance.clearResourceTimings=function(){});(function(){var a=function(a){aa={type:a.type,target:e.elementToString(a.target)}};e.addEvent(document,'keydown', a);e.addEvent(document,'click',a);e.addEvent(document,'touchstart',a)})();l();var Q=document;_loadCookieConfig=function(){var a=e.getCookie('yo-aftershock-config');if(null!=a&&0<a.length)try{a=JSON.parse(a);for(var b=a.resources||[],c=0;c<b.length;c++){var d=b[c];Yo.sequence[d.delayObject||'resource'](d.url)[d.delayType||'none'](d.delayValue)}delete a.resources;m.configure(a)}catch(r){}};_domready=function(){function a(a){b(a)}function b(a){('poll'===a||'readystatechange'===a.type)&&'complete'!== Q.readyState||g||(g=!0,h.afterShockLoaded=!0,k.publish({topic:'core/load',async:!0,message:m,persistent:!0}))}function c(){try{Q.documentElement.doScroll('left')}catch(z){la(c,50);return}b('poll')}var g=!1,f=!0;if('complete'===Q.readyState)h.afterShockLoaded=!0,k.publish({topic:'core/load',async:!0,message:Yo,persistent:!0});else{if(Q.createEventObject&&Q.documentElement.doScroll){try{f=!d.frameElement}catch(z){}f&&c()}e.addEvent(d,'load',a)}};k.subscribe({topic:'core/start',callback:function(){_loadCookieConfig(); _domready()}});k.subscribe({topic:'core/start',callback:function(){e.log('Loading rum brand-ctrl insight configuration');m.hijacking.setOptState('none');m.hijacking.configure({reportUri:'https://qoe-jh.yottaa.net/log-jh',detectAssets:!0,extensions:[{id:26,name:'price.com',reportOnly:!0,assetUrls:['chrome-extension://kmmpkhpajpecmpdmmbpjmkmcmfdahkcj/assets/images/price-icon-512.png'],components:[{id:40,name:'Cashback popup',requireDetection:!1,test:function(a){return'price__com-cashback-container'=== a.className}}],browsers:{safari_mac:!0,edge:!0,firefox:!0,chrome:!0}},{id:17,name:'TopCashBack',reportOnly:!0,assetUrls:['chrome-extension://lkmpdpkkkeeoiodlnmlichcmfmdjbjic/icon-128.png'],components:[{id:28,name:'Main container',requireDetection:!1,test:function(a){return'tcb-wrapper'===a.id}}],browsers:{edge:!0,firefox:!0,chrome:!0}},{id:11,name:'Tada',reportOnly:!0,assetUrls:['chrome-extension://dlmebkoiahbppacaicbgncnjhbpdfkcc/assets/images/tada_logo.png'],components:[{id:16,name:'Shadow container', requireDetection:!1,test:function(a){return'tada-shadow-container'===a.id}},{id:46,name:'Slider shadow container',requireDetection:!1,test:function(a){return'tada-slider-shadow-container'===a.id}}],browsers:{firefox:!0,chrome:!0}},{id:4,name:'SwagButton',reportOnly:!0,assetUrls:['chrome-extension://gngocbkfmikdgphklgmmehbjjlfgdemm/assets/icons/128.png'],components:[{id:6,name:'Get Cash Back',requireDetection:!1,test:function(a){return'sb-shadow-container'===a.id&&'DIV'===a.tagName}},{id:7,name:'Get a Swag Code Popup', requireDetection:!1,test:function(a){return'notifySEClass'===a.className&&'DIV'===a.tagName}}],browsers:{edge:!0,chrome:!0}},{id:22,name:'Smarty',reportOnly:!0,assetUrls:['chrome-extension://edjkecefjhobekadlkdkopkggdefpgfp/images/logo.png'],components:[{id:34,name:'Check Coupons ',requireDetection:!1,test:function(a){return'smartyContainer'===a.id}}],browsers:{edge:!0,firefox:!0,chrome:!0}},{id:7,name:'SlickDeals',reportOnly:!0,assetUrls:['chrome-extension://jpdapbcmfllbpojmkefcikllfeoahglb/logo.png'], components:[{id:10,name:'Extension container',requireDetection:!0,test:function(a){return'HTML'===a.parentElement.tagName&&'display: block;'===a.getAttribute('style')&&'1'===a.getAttribute('data-initialized')}}],browsers:{safari_mac:!0,edge:!0,firefox:!0,chrome:!0}},{id:23,name:'SimplyCodes',reportOnly:!0,assetUrls:['chrome-extension://gfkpklgmocbcbdabfellcnikamdaeajd/icons/128.png'],components:[{id:35,name:'Coupons',requireDetection:!1,test:function(a){return'SimplyCodes'===a.id}}],browsers:{safari_mac:!0, edge:!0,firefox:!0,chrome:!0,safari_ios:!0}},{id:6,name:'RetailMeNot',reportOnly:!0,assetUrls:['chrome-extension://jjfblogammkiefalfpafidabbnamoknm/built/rmn-logo.svg'],components:[{id:9,name:'Codes Found! popup',requireDetection:!1,test:function(a){return'__genieContainer'===a.id&&'HTML'===a.parentElement.tagName}}],browsers:{safari_mac:!0,edge:!0,firefox:!0,chrome:!0,safari_ios:!0}},{id:3,name:'Rakuten',reportOnly:!0,assetUrls:['chrome-extension://chhjbpecpncaggjpdakmflnfcopglcmi/img/icon/icon-128.png'], components:[{id:5,name:'Activate Cash Back Popup',requireDetection:!1,test:function(a){return'all: initial !important;'===a.attributes.style.value&&0===a.childElementCount&&a.shadowRoot&&null!==a.shadowRoot.querySelector('.ebates-notification')}}],browsers:{safari_mac:!0,edge:!0,firefox:!0,chrome:!0,safari_ios:!0}},{id:10,name:'PriceBlink',reportOnly:!0,assetUrls:['chrome-extension://aoiidodopnnhiflaflbfeblnojefhigh/images/icon_128.png'],components:[{id:14,name:'PriceBlink Container',requireDetection:!1, test:function(a){return'priceblink-container'===a.id}},{id:13,name:'Toolbar',requireDetection:!1,test:function(a){return'pb1_div'===a.id}}],browsers:{chrome:!0}},{id:25,name:'MyPoints',reportOnly:!0,assetUrls:['chrome-extension://mcglgmippekbdbmniknikdgkmnnpdnmh/assets/icons/16.png'],components:[{id:37,name:'Coupons',requireDetection:!1,test:function(a){return'mp-slider-shadow-container'===a.id}}],browsers:{edge:!0,chrome:!0}},{id:19,name:'OctoShop',reportOnly:!0,assetUrls:['chrome-extension://ahajkaoongodcmoohkcceoklokapadfh/icon128.png'], components:[{id:31,name:'Price Comparison',requireDetection:!1,test:function(a){return'original-octo-extension-root'===a.id}}],browsers:{edge:!0,firefox:!0,chrome:!0}},{id:28,name:'Mino',reportOnly:!0,assetUrls:['chrome-extension://fefnkplkicihcoenmljhbihhaaagjhpp/images/icons/icon128.png'],components:[{id:47,name:'Cashback Notification Container',requireDetection:!1,test:function(a){return'HTML'===a.parentElement.tagName&&'MinoCashbackNotificationContainer'===a.id}}],browsers:{chrome:!0}},{id:5, name:'Klarna',reportOnly:!0,assetUrls:['chrome-extension://hfapbcheiepjppjbnkphkmegjlipojba/img/pink/logo-48.png'],components:[{id:8,name:'Extension Root',requireDetection:!1,test:function(a){return'klarna-extension-root'===a.getAttribute('id')}}],browsers:{chrome:!0}},{id:13,name:'Karma',reportOnly:!0,assetUrls:['chrome-extension://emalgedpdlghbkikiaeocoblajamonoh/img/karma-icon.svg'],components:[{id:21,name:'Main UI',requireDetection:!1,test:function(a){return'g_b_bhsin'===a.id}},{id:22,name:'jquery_is_injected div', requireDetection:!1,test:function(a){return'div'===a.tagName&&'jquery_is_injected'===a.id}},{id:41,name:'Nov 2022 Signup container',requireDetection:!1,test:function(a){return'j_a_csin'===a.id}},{id:38,name:'Icon Popup',requireDetection:!1,test:function(a){return'j_a_asin'===a.id}}],browsers:{safari_mac:!0,edge:!0,firefox:!0,chrome:!0,safari_ios:!0}},{id:30,name:'Ibotta',reportOnly:!0,assetUrls:['chrome-extension://mfaedmjlefifhnhpgipjjiiekchaimpk/icons/ibotta_icon_production_128.png'],components:[{id:49, name:'Extension root',requireDetection:!1,test:function(a){return'HTML'===a.parentElement.tagName&&'ibotta-extension-root'===a.id}}],browsers:{chrome:!0}},{id:1,name:'Honey',reportOnly:!0,assetUrls:['chrome-extension://bmnlcjabgnpnenekpadlanbbkooimhnj/proxies/requestProxies.js'],components:[{id:1,name:'Coupons Found! popup',requireDetection:!1,test:function(a){return'honeyContainer'===a.id}},{id:2,name:'floating button',requireDetection:!0,test:function(a){return'z-index: 2147483647 !important;'=== a.attributes.style.value}},{id:3,name:'checkout popup',requireDetection:!1,test:function(a){return'honeyCheckout'===a.id}},{id:15,name:'new popup',requireDetection:!0,test:function(a){return(a=a.getAttribute('style'))&&0===a.indexOf('z-index: 2147483647 !important;')}},{id:39,name:'Checkout popup with reactroot attrib',requireDetection:!1,test:function(a){return'HTML'===a.parentElement.tagName&&1===a.attributes.length&&''===a.getAttribute('data-reactroot')&&1===a.children.length&&'LINK'===a.children[0].tagName&& -1<a.children[0].getAttribute('href').indexOf('honey')}}],browsers:{safari_mac:!0,edge:!0,firefox:!0,chrome:!0,safari_ios:!0}},{id:20,name:'FatCoupon',reportOnly:!0,assetUrls:['chrome-extension://cakejefemdjbmhdjkjhibjhmhgjefidm/assets/icons/active/128.png'],components:[{id:32,name:'Coupons and CashBack',requireDetection:!1,test:function(a){return'fatcoupon-root'===a.id}}],browsers:{chrome:!0,safari_ios:!0}},{id:24,name:'Extrabux',reportOnly:!0,assetUrls:['chrome-extension://infdegpbaoaebllngceboapplllecfpc/images/logo.png'], components:[{id:36,name:'Coupons and CashBack',requireDetection:!1,test:function(a){return'extrabux_extension_container'===a.id}}],browsers:{safari_mac:!0,edge:!0,chrome:!0}},{id:15,name:'DealsPlus',reportOnly:!0,assetUrls:['chrome-extension://olplonfdcekbkpjnoeecfihlkfdkehbj/asset/img/icon/icon-128.png'],components:[{id:25,name:'DealsPlus notification',requireDetection:!1,test:function(a){return'dealsplus-notification'===a.id}}],browsers:{safari_mac:!0,edge:!0,firefox:!0,chrome:!0}},{id:29,name:'Cuponomia', reportOnly:!0,assetUrls:['chrome-extension://gidejehfgombmkfflghejpncblgfkagj/assets/img/icons/active-icon.png'],components:[{id:48,name:'Coupon Available modal',requireDetection:!1,test:function(a){return a.parentElement===document.body&&'cpn-wrapper'===a.id}}],browsers:{chrome:!0,safari_ios:!0,safari_mac:!0}},{id:21,name:'CouponBirds',reportOnly:!0,assetUrls:['chrome-extension://pnedebpjhiaidlbbhmogocmffpdolnek/images/logo-48.png'],components:[{id:33,name:'Coupons',requireDetection:!1,test:function(a){return'coupon-birds-div'=== a.id}}],browsers:{safari_mac:!0,edge:!0,firefox:!0,chrome:!0,safari_ios:!0}},{id:9,name:'Coupert',reportOnly:!0,assetUrls:['chrome-extension://mfidniedemcgceagapgdekdbmanojomk/image/logo.png','chrome-extension://mfidniedemcgceagapgdekdbmanojomk/image/cashback-logo.png'],components:[{id:12,name:'Anonymous root-level divs',requireDetection:!1,test:function(a){return'HTML'===a.parentElement.tagName&&null===a.getAttribute('class')&&'all: initial;'===a.getAttribute('style')&&/^[{]?[0-9a-fA-F]{8}-([0-9a-fA-F]{4}-){3}[0-9a-fA-F]{12}[}]?$/.test(a.getAttribute('id'))}}, {id:42,name:'Root-level div (Nov 2022)',requireDetection:!0,test:function(a){return'DIV'===a.tagName&&'HTML'===a.parentElement.tagName&&0===a.children.length&&1===a.attributes.length&&/^[0-9A-F]{48}$/.test(a.id)}}],browsers:{safari_mac:!0,edge:!0,firefox:!0,chrome:!0,safari_ios:!0}},{id:12,name:'Cently',reportOnly:!0,assetUrls:['chrome-extension://kegphgaihkjoophpabchkmpaknehfamb/assets/img/cently-logo.svg'],components:[{id:17,name:'Modal container',requireDetection:!1,test:function(a){return'catc-modal-container'=== a.id}},{id:18,name:'Save Money popup',requireDetection:!1,test:function(a){return'catc2Overlay'===a.id}},{id:19,name:'Site script',requireDetection:!1,test:function(a){return'catcSiteScript'===a.id}}],browsers:{edge:!0,chrome:!0}},{id:2,name:'Capital One Shopping',reportOnly:!0,assetUrls:['chrome-extension://nenlahapcbofgnanklpelkaejcehkggg/assets/icons/shopping-icon128.png'],components:[{id:4,name:'Try Codes Popup',requireDetection:!1,test:function(a){return 0===a.childElementCount&&'<di'+'v style="all: initial;"></di'+'v>'=== a.outerHTML}},{id:43,name:'Anonymous div',requireDetection:!0,test:function(a){return a.parentElement===document.body.parentElement&&'DIV'===a.tagName&&1===a.attributes.length&&500<(a.getAttribute('style')||'').length&&1===a.children.length&&'STYLE'===a.children[0].tagName}},{id:44,name:'Found Codes Popup',requireDetection:!1,test:function(a){return'HTML'===a.parentElement.tagName&&'DIV'===a.tagName&&0===a.childElementCount&&2===a.attributes.length&&'all: initial !important;'===a.getAttribute('style')&& 'true'===a.attributes[1].value&&/^data-[{]?[0-9a-fA-F]{8}-([0-9a-fA-F]{4}-){3}[0-9a-fA-F]{12}[}]?$/.test(a.attributes[1].name)}}],browsers:{safari_mac:!0,edge:!0,firefox:!0,chrome:!0,safari_ios:!0}},{id:16,name:'CNET Shopping',reportOnly:!0,assetUrls:['chrome-extension://lghjfnfolmcikomdjmoiemllfnlmmoko/images/cnet-logo-128.png'],components:[{id:27,name:'Coupons',requireDetection:!1,test:function(a){return'pbpopup-container'===a.id}}],browsers:{safari_mac:!0,edge:!0,firefox:!0,chrome:!0}},{id:18, name:'BeFrugal',reportOnly:!0,assetUrls:['chrome-extension://logldmlncddmdfcjaaljjjkajcnacigc/icon128.png'],components:[{id:29,name:'Cash Back',requireDetection:!1,test:function(a){return'BFRLsliderIframe'===a.id}},{id:30,name:'Coupon',requireDetection:!1,test:function(a){return'bfrl_divCouponsFound'===a.id}}],browsers:{safari_mac:!0,edge:!0,firefox:!0,chrome:!0}},{id:14,name:'Avast SafePrice',reportOnly:!0,assetUrls:['chrome-extension://eofcbnmajmjmplflapaojjnihcjkigck/common/ui/icons/logo-safeprice-128.png'], components:[{id:23,name:'Offers-Coupon Popup',requireDetection:!1,test:function(a){return'a-panel'===a.id&&'DIV'===a.tagName}},{id:24,name:'Save Money using Coupons',requireDetection:!1,test:function(a){return'a-sp-root-template'===a.id&&'SPAN'===a.tagName&&'HTML'===a.parentElement.tagName}}],browsers:{edge:!0,firefox:!0,chrome:!0}},{id:27,name:'Amazon Assistant',reportOnly:!0,assetUrls:['chrome-extension://pbjikboenpfhbbejgkoklgkhjpfogcam/static/js/cookieProxy.js','chrome-extension://pbjikboenpfhbbejgkoklgkhjpfogcam/static/js/localProxy.js'], components:[{id:45,name:'General Container',requireDetection:!1,test:function(a){var b=a.className;if(b='BODY'===a.parentElement.tagName&&('DIV'===a.tagName||'SPAN'===a.tagName)&&1===a.attributes.length&&'class'===a.attributes[0].name&&3<b.length&&15>b.length&&/[A-Z]/.test(b)&&/([a-z0-9])/.test(b)&&!1===/[\s-_]/.test(b))try{a.attachShadow({mode:'open'}),b=!1}catch(c){b=!0}return b}}],browsers:{chrome:!0}},{id:8,name:'AVG SafePrice',reportOnly:!0,assetUrls:['chrome-extension://mbckjcfnjmoiinpgddefodcighgikkgn/common/ui/icons/logo-safeprice-128.png'], components:[{id:11,name:'Oh Look! popup',requireDetection:!1,test:function(a){return'a-sp-root-template'===a.id&&'SPAN'===a.tagName&&'HTML'===a.parentElement.tagName}}],browsers:{edge:!0,firefox:!0,chrome:!0}}]})}});var x={enableAssetDetection:function(){if(x.enabled)return!1;if(!x.shouldDetectAssets)return m.utils.log('Journey Hijacking asset detection disabled'),!1;if(!ea())return m.utils.log('Journey Hijacking asset detection not supported'),!1;x.enabled=!0;m.utils.log('Journey Hijacking asset detection enabled'); f.config.detectOn&&(f.detectOnId=k.subscribe({topic:f.config.detectOn,callback:x.startDetection}));return!0},startDetection:function(){if(!x.enabled)return!1;m.utils.log('Journey Hijacking starting asset detection');k.publish({topic:'hijacking/start',message:f.config});O=Ja();S=0;for(var a=f.supportedExtensions,b=0;b<a.length;b++){var c=a[b];c.assetUrls&&0!=c.assetUrls.length?ta(c.id,c.assetUrls,0):fa(c.id,f.states.UNKNOWN)}return!0},isSupported:ea,setAssetDetection:function(a){if(x.enabled||!1=== ea())return!1;x.shouldDetectAssets=!0===a;return!0},resetAssetDetection:function(){x.enabled=!1;x.shouldDetectAssets=!0;O&&(O.terminate(),O=null);S=0},shouldDetectAssets:!0,enabled:!1},S=0,O=null,M=null,U={DETECTED:1,NOT_DETECTED:2,BLOCKED:3},ia=[],Ka=document.createElement('div').remove,B={enableComponentDetection:function(){var a;if(a=!1===B.enabled)a:{a=f.supportedExtensions;for(var b=0;b<a.length;b++)if(a[b].components&&0<a[b].components.length){a=!0;break a}a=!1}a&&(Ma(),B.enabled=!0,m.utils.log('Component detection enabled')); return B.enabled},resetComponentDetection:function(){M&&M.disconnect();B.enabled=!1;B.checkedComponents=[];B.aggressiveBlocking=!1;for(var a=0;a<ia.length;a++)k.unsubscribe(ia[a])},checkedComponents:[],setAggressiveBlocking:function(a){B.aggressiveBlocking=!0===a},aggressiveBlocking:!1,enabled:!1},W=null,V=null,oa={send:function(){return f.assetDetection.enabled&&!1===f.detectionComplete?(W=k.subscribe({topic:'hijacking/finished',callback:xa}),!1):xa()},resetAnalytics:function(){wa();null!==V&&(k.unsubscribe(V), V=null);d.localStorage.removeItem(ja())}},Y={UNKNOWN:-1,INSTALLED:1,NOT_INSTALLED:2},f={configure:function(a){if(!1===ya())return m.utils.log('Journey Hijacking was configured but is not supported in this browser'),!1;if(f.enabled)return m.utils.log('Journey Hijacking already configured'),!1;if(!a.reportUri||!a.extensions||0===a.extensions.length)return m.utils.log('Journey Hijacking config is invalid. Detection not enabled.'),!1;void 0!==a.detectAssets&&x.setAssetDetection(a.detectAssets);void 0!== a.aggressiveBlocking&&B.setAggressiveBlocking(a.aggressiveBlocking);f.allExtensions=a.extensions;var b=f,c=a.extensions,d=n.browser().name;'safari'===d&&(d=n.isIos()?'safari_ios':'safari_mac');for(var e=[],h=0;h<c.length;h++){var l=c[h];l.browsers&&!l.browsers[d]||e.push(l)}b.supportedExtensions=e;if(0===f.supportedExtensions.length)return m.utils.log('No extensions supported for this browser.'),!1;m.utils.log(f.supportedExtensions.length+' extensions supported out of '+f.allExtensions.length+' for this browser.'); a.hasOwnProperty('detectOn')||(a.detectOn='core/load');a.hasOwnProperty('sendOn')||(a.sendOn='rum/sendBeacon');f.config=a;m.stats().config.hijacking=a;'unknown'===f.optState&&(b=m.rum.get().optState,f.optState='none'===b?'active':b);if('disabled'===f.optState)return m.utils.log('Journey Hijacking disabled.'),!1;f.enabled=!0;B.enableComponentDetection();x.enableAssetDetection();f.config.sendOn&&(f.sendOnId=k.subscribe({topic:f.config.sendOn,callback:oa.send}));k.publish({topic:'hijacking/configure', message:a});return!0},startDetection:x.startDetection,isSupported:ya,setOptState:function(a){if(f.enabled)return!1;if(-1===['active','bypass','control','none','disabled'].indexOf(a))return m.utils.log('Invalid optState '+a),!1;f.optState=a;return!0},setExtensionState:function(a,b){var c=f.extensionState[a]===Y.INSTALLED;c||(f.extensionState[a]=b);b===Y.INSTALLED&&(f.hasDetectedExtensions=!0,c||(b={id:a,state:b},k.publish({topic:'hijacking/found/'+a,persistent:!0,message:b}),k.publish({topic:'hijacking/found', message:b})))},extensionList:function(){for(var a=[],b=0;b<f.supportedExtensions.length;b++){var c=f.supportedExtensions[b],d=f.extensionState;a.push({id:c.id,state:c.id in d?d[c.id]:Y.UNKNOWN})}return a},setAssetDetection:x.setAssetDetection,setAggressiveBlocking:B.setAggressiveBlocking,send:oa.send,reset:function(){f.detectOnId&&(k.unsubscribe(f.detectOnId),f.detectOnId=null);f.sendOnId&&(k.unsubscribe(f.sendOnId),f.sendOnId=null);f.enabled=!1;f.hasDetectedExtensions=!1;f.optState='unknown';f.detectionComplete= !1;f.allExtensions=[];f.supportedExtensions=[];f.extensionState={};f.config={};m.stats().config.hijacking={};B.resetComponentDetection();oa.resetAnalytics();x.resetAssetDetection();return!0},supportedExtensions:[],allExtensions:[],extensionState:{},enabled:!1,detectionComplete:!1,hasDetectedExtensions:!1,detectOnId:null,sendOnId:null,assetDetection:x,componentDetection:B,optState:'unknown',states:Y};m={utils:e,pubsub:k,configure:{}.configure,rum:p,stats:P,spa:{trackMetrics:function(){p.spa()},startTransition:function(a, b){return k.publish({topic:'rum/spa/transition/start',message:{pageType:a,viewType:b}})},finishedRendering:function(a,b,c){return k.publish({topic:'rum/spa/rendered',message:{pageType:a,viewType:b,trigger:c}})}},hijacking:f};p.only=!0;m.configure=function(a){if('string'===typeof a)a=a.split('key='),2==a.length&&(p.initialize('https://qoe-1.rapid.yottaa-network.net/log-nt/event',.05<Math.random(),a[1],!0),p.set('optState','none'),p.trackBusinessValue());else for(var b in a)'resources'==b?h.resources= h.resources.concat(a.resources):h[b]=a[b]};k.publish({topic:'core/start',message:m});l=document.getElementsByTagName('script');for(var pa=0;pa<l.length;pa++){var qa=l[pa].src;0<qa.indexOf('rapid.rum.min')&&(parts=qa.split('='),1<parts.length&&m.configure('https://qoe-1.rapid.yottaa-network.net/api/v1/configure.rapid.js?key='+parts[1].substring(0,14)),-1<qa.indexOf('detectionOff')&&(f.enabled=!1))}return m}); 